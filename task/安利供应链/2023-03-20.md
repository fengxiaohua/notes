已完成：
2023-03-20
1. 库存管理-库存管理现状报告-对接总览（运行版本下拉，数据来源及更新下拉，表格查询添加参数，PA（成品有货率）下载，DOS（可供天数/d）下载，Inventory Value（库存金额/$M）下载，Inventory Turnover（库存周转率）下载，Excess(库存冗余金额/$M)下载，Excess(库存冗余占比/%)下载，保存库存报表）
2. 库存管理-库存管理现状报告-对接切片器（abc分类下拉，产品线下拉，物料及成品下拉，PA计算方法下拉）
3. 库存管理-库存管理现状报告-对接结果展示（TNA情况和有货率，库存水平和DOS，库存周转率，库存冗余金额和占比）
4. 供应商BI-修复产能风险明细-清除物料编码带来的loading不消失问题



问题：

1. 周转率表格查询（runVersion=2023&sourceSystem=true 报错）
  http://10.158.195.249/stock/report/turnover/rate?runVersion=2023&sourceSystem=true
  {"msg":null,"code":500}

2. 库存管理-库存管理现状报告-所有下载的文件.xlsx打不开

3. 库存管理-库存管理现状报告-冗余金额表格返回null
  http://10.158.195.249/stock/report/redundance/money?runVersion=2023&sourceSystem=false
  {"code":200,"msg":null,"content":[null]}

4. GET ​/stock​/report​/StockTurnoverRate 结果展示-库存周转率
  http://10.158.195.249/stock/report/StockTurnoverRate?runVersion=2023&sourceSystem=true&calculateType=INDIFFERENT_CHANNELS
  {"msg":"nested exception is org.apache.ibatis.exceptions.TooManyResultsException: Expected one result (or null) to be returned by selectOne(), but found: 7","code":500}

5.  GET ​/stock​/report​/redundantProportion 结果展示-库存冗余金额和占比 
  http://10.158.195.249/stock/report/redundantProportion?runVersion=2023&sourceSystem=true&calculateType=INDIFFERENT_CHANNELS
  {"msg":null,"code":500}

6.  GET ​/stock​/key​/value​/stock​/list 库存金额与dos
  http://10.158.195.249/stock/key/value/stock/list?sceneID=3&particularYear=IN_THOSE_YEARS
  {"msg":"\n### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'inv_qty_day' in 'field list'\n### The error may exist in URL [jar:file:/home/amway/app/amway-stock.jar!/BOOT-INF/lib/amway-system-stock.3.7.0.jar!/mapper/stock/PaNalyseMapper.xml]\n### The error may involve defaultParameterMap\n### The error occurred while setting parameters\n### SQL: select inv_qty_day         from ads_scm_inv_quantity_day         where sku_code_non_ver = ?           and date_id = ? limit 1\n### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'inv_qty_day' in 'field list'\n; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'inv_qty_day' in 'field list'","code":500}