1. elastic日志结果表格制作
2. 日志记录里需要记录code和msg

"\\[%{DATA:logname}\\]\\s* \\|%{DATA:requestTime}\\|\\s* ip:\\s*%{DATA:ip}\\|\\s* method:\\s*%{DATA:method}\\|\\s* urlPath:\\s*%{DATA:urlPath}\\|\\s* query:\\s*%{DATA:query}\\|\\s* params:\\s*%{DATA:params}\\|\\s* IsComplete:\\s*%{DATA:IsComplete}\\|\\s* data:\\s*%{GREEDYDATA:data} statusCode:\\s*%{DATA:statusCode}\\|\\s*"

\[%{DATA:logname}\]\s* \|%{DATA:requestTime}\|\s* ip:\s*%{DATA:ip}\|\s* method:\s*%{DATA:method}\|\s* urlPath:\s*%{DATA:urlPath}\|\s* query:\s*%{DATA:query}\|\s* params:\s*%{DATA:params}\|\s* IsComplete:\s*%{DATA:IsComplete}\|\s* data:\s*%{GREEDYDATA:data}\|\s* statusCode:\s*%{DATA:statusCode}

GREEDYDATA


[plugin-response-log] | 2023/11/16 16:11:06 | ip: 192.168.50.208 | method: GET | urlPath: /v1/dc/user/website_teacher_info | query: map[userId:[86163]] | params: map[] | IsComplete: true | data: map[code:A00000 data:[map[last:1 note:第1月 tradeAmt:186.16] map[last:2 note:第2月 tradeAmt:337] map[last:3 note:第3月 tradeAmt:328.32] map[last:4 note:第4月 tradeAmt:321.78] map[last:5 note:第5月 tradeAmt:397.96] map[last:6 note:第6月 tradeAmt:402.95]] msg:成功] | statusCode: 200